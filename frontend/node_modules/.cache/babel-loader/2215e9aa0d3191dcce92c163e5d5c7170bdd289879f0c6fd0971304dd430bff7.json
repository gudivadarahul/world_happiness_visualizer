{"ast":null,"code":"var _jsxFileName = \"/Users/rahulgudivada/workspace/happiness-index/frontend/src/HappinessChart.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport d3Tip from \"d3-tip\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HappinessChart = ({\n  data\n}) => {\n  _s();\n  const chartRef = useRef();\n  useEffect(() => {\n    if (data.length === 0) return;\n    console.log(\"new data\", data);\n\n    // Clear any previous SVG elements\n    d3.select(chartRef.current).selectAll(\"*\").remove();\n\n    // Set up the SVG element and its dimensions\n    const svg = d3.select(chartRef.current).attr(\"width\", 1500).attr(\"height\", 600).style(\"overflow\", \"visible\").style(\"margin-top\", \"75px\");\n\n    // Set up the scales and axes\n    const xScale = d3.scaleBand().domain(data.map(d => d[\"Country or region\"])).range([0, 1500]).padding(0.1);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => +d[\"Score\"])]).range([400, 0]);\n    const xAxis = d3.axisBottom(xScale);\n    const yAxis = d3.axisLeft(yScale);\n    svg.append(\"g\").call(xAxis).attr(\"transform\", \"translate(0, 400)\").selectAll(\"text\").attr(\"transform\", \"rotate(-45)\").attr(\"text-anchor\", \"end\").attr(\"dx\", \"-0.8em\").attr(\"dy\", \"0.15em\").style(\"font-size\", \"12px\");\n    svg.append(\"g\").call(yAxis);\n\n    // Create the tooltip\n\n    svg.call(tip);\n\n    // Create the bars with tooltips\n    svg.selectAll(\".bar\").data(data).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => xScale(d[\"Country or region\"])).attr(\"y\", d => yScale(d[\"Score\"])).attr(\"width\", xScale.bandwidth()).attr(\"height\", d => 400 - yScale(d[\"Score\"])).attr(\"fill\", \"steelblue\").on(\"mouseover\", tip.show).on(\"mouseout\", tip.hide);\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: chartRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n};\n_s(HappinessChart, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = HappinessChart;\nexport default HappinessChart;\nvar _c;\n$RefreshReg$(_c, \"HappinessChart\");","map":{"version":3,"names":["React","useRef","useEffect","d3","d3Tip","jsxDEV","_jsxDEV","HappinessChart","data","_s","chartRef","length","console","log","select","current","selectAll","remove","svg","attr","style","xScale","scaleBand","domain","map","d","range","padding","yScale","scaleLinear","max","xAxis","axisBottom","yAxis","axisLeft","append","call","tip","enter","bandwidth","on","show","hide","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/rahulgudivada/workspace/happiness-index/frontend/src/HappinessChart.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport d3Tip from \"d3-tip\";\n\nconst HappinessChart = ({ data }) => {\n  const chartRef = useRef();\n\n  useEffect(() => {\n    if (data.length === 0) return;\n\n    console.log(\"new data\", data);\n\n    // Clear any previous SVG elements\n    d3.select(chartRef.current).selectAll(\"*\").remove();\n\n    // Set up the SVG element and its dimensions\n    const svg = d3\n      .select(chartRef.current)\n      .attr(\"width\", 1500)\n      .attr(\"height\", 600)\n      .style(\"overflow\", \"visible\")\n      .style(\"margin-top\", \"75px\");\n\n    // Set up the scales and axes\n    const xScale = d3\n      .scaleBand()\n      .domain(data.map((d) => d[\"Country or region\"]))\n      .range([0, 1500])\n      .padding(0.1);\n\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, d3.max(data, (d) => +d[\"Score\"])])\n      .range([400, 0]);\n\n    const xAxis = d3.axisBottom(xScale);\n    const yAxis = d3.axisLeft(yScale);\n\n    svg\n      .append(\"g\")\n      .call(xAxis)\n      .attr(\"transform\", \"translate(0, 400)\")\n      .selectAll(\"text\")\n      .attr(\"transform\", \"rotate(-45)\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-0.8em\")\n      .attr(\"dy\", \"0.15em\")\n      .style(\"font-size\", \"12px\");\n\n    svg.append(\"g\").call(yAxis);\n\n    // Create the tooltip\n\n\n    svg.call(tip);\n\n    // Create the bars with tooltips\n    svg\n      .selectAll(\".bar\")\n      .data(data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .attr(\"x\", (d) => xScale(d[\"Country or region\"]))\n      .attr(\"y\", (d) => yScale(d[\"Score\"]))\n      .attr(\"width\", xScale.bandwidth())\n      .attr(\"height\", (d) => 400 - yScale(d[\"Score\"]))\n      .attr(\"fill\", \"steelblue\")\n      .on(\"mouseover\", tip.show)\n      .on(\"mouseout\", tip.hide);\n  }, [data]);\n\n  return <svg ref={chartRef}></svg>;\n};\n\nexport default HappinessChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}